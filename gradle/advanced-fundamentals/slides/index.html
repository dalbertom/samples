<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head> 
    <title>advanced-fundamentals-jvm-2-day</title> 
    <meta charset="utf-8" /> 
    <link rel="stylesheet" href="style/reset.less.css" /> 
    <link rel="stylesheet" href="style/base.less.css" /> 
    <link rel="stylesheet" href="style/code.less.css" />  
    <script src="./deckjs/jquery-1.7.min.js"></script> 
    <script src="./deckjs/modernizr.custom.js"></script> 
    <script src="./deckjs/core/deck.core.js"></script> 
    <link rel="stylesheet" href="./deckjs/core/deck.core.css" /> 
    <link rel="stylesheet" href="./deckjs/themes/transition/horizontal-slide.css" /> 
    <script src="./deckjs/extensions/hash/deck.hash.js"></script> 
    <script src="./deckjs/extensions/notes/deck.notes.js"></script> 
    <script src="./deckjs/extensions/clone/deck.clone.js"></script> 
    <script src="./deckjs/extensions/scale-selector/deck.scale-selector.js"></script> 
    <link rel="stylesheet" href="./deckjs/extensions/scale-selector/deck.scale-selector.css" /> 
    <link rel="stylesheet" href="./style/slideshow.less.css" /> 
    <script src="./init.js"></script> 
    <script type="text/javascript">
                $(function() {
                    $(document).bind('deck.change', function(e, from, to) {
                        $('div.slide-number').text(to);
                    });
                });
            
    </script> 
  </head> 
  <body class=" deck-container"> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Advanced Fundamentals</h1> 
            <p>In-depth with Gradle for Java projects</p> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Slides</h2> 
          <ul> 
            <li>Available in different formats</li> 
            <li>Same content as today's presentation</li> 
          </ul> 
          <p><br /></p> 
          <p><img src="images/slides-filesystem.png" alt="Slides" /></p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Practical labs</h2> 
          <ul> 
            <li>Solutions are available (but don't overuse them)</li> 
            <li>Take your time and experiment</li> 
            <li>The labs are not a test!</li> 
          </ul> 
          <p><img src="images/labs-filesystem.png" alt="Slides" /></p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Ask questions</h2> 
          <ul> 
            <li>Please ask questions at any time!</li> 
            <li>You control the speed of the presentation</li> 
            <li>Q&amp;A session at the end of the workshop</li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Objectives</h2> 
          <p>Proficiency as a Gradle build master. </p> 
          <p>Understanding of:</p> 
          <ul> 
            <li>Core Gradle concepts, principles and philosophies</li> 
            <li>The Gradle domain model</li> 
          </ul> 
          <p><strong>Being able to methodically create Gradle builds, rather than just adapting examples. </strong></p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Specific Topics</h2> 
          <ul> 
            <li>Gradle DSL basics</li> 
            <li>Tasks &amp; the Task Graph</li> 
            <li>Build execution lifecycle</li> 
            <li>The Plugin mechanisms</li> 
            <li>Built-in tasks and plugins</li> 
            <li>Dependency management</li> 
            <li>Publishing</li> 
            <li>Input and output</li> 
            <li>Java support</li> 
            <li>Multi-project builds</li> 
            <li>Organizing logic and plugins</li> 
            <li>Extensibility (init scripts, listeners …)</li> 
            <li>Gradle Wrapper</li> 
          </ul> 
          <p>And more.</p> 
          <aside class="notes"> 
            <p>More expectation setting. Don't go in to too much detail about the points.</p> 
          </aside> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Prerequisites</h2> 
          <ol> 
            <li>Ability to read/write Java/Groovy code</li> 
            <li>Familiarity with Gradle build scripts</li> 
            <li>Basic understanding of Gradle tasks, dependencies and building Java projects</li> 
          </ol> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Gradle Build Scans</h1> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Creating build scans</h2> 
          <ul> 
            <li>Creating a build scan is free.</li> 
            <li>Build scans are a permanent, centralized and shareable record of a build.</li> 
            <li>Build scans offer insight into how you are building your software.</li> 
            <li><strong>All build scans created during this course will be uploaded to a Gradle, Inc server</strong>. A self-hosted version is available.</li> 
            <li>See <a href="https://gradle.com/build-scans">Gradle Build Scans</a> for more information.</li> 
          </ul> 
          <p>We encourage you to generate a build scan if you have a problem with a lab, so we can help you solve your problem. Just run your build with <code><span class="java_operator">-</span><span class="java_type">Dscan</span><span class="java_plain"></span></code>.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Lab</h1> 
            <p style="font-weight: bold;">01-create-build-scan</p> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Tasks</h1> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>DSL Syntax and Tasks</h2> 
          <pre class=" code"><code><span class="java_comment">//&nbsp;&lt;&lt;&nbsp;is&nbsp;synonymous&nbsp;with&nbsp;doLast()</span>
<span class="java_comment">//&nbsp;we'll&nbsp;use&nbsp;doLast()&nbsp;from&nbsp;here&nbsp;on</span>
<span class="java_plain">task&nbsp;hello&nbsp;</span><span class="java_operator">&lt;&lt;</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;println&nbsp;</span><span class="java_literal">&quot;Hello&quot;</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_comment">//&nbsp;access&nbsp;existing&nbsp;task&nbsp;via&nbsp;its&nbsp;name</span>
<span class="java_plain">hello</span><span class="java_separator">.</span><span class="java_plain">dependsOn&nbsp;otherTask</span>
<span class="java_plain"></span>
<span class="java_comment">//&nbsp;configure&nbsp;existing&nbsp;task&nbsp;via&nbsp;closure</span>
<span class="java_plain">hello&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;dependsOn&nbsp;otherTask</span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_comment">//&nbsp;configure&nbsp;new&nbsp;task</span>
<span class="java_plain">task&nbsp;greet&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;dependsOn&nbsp;otherTask</span>
<span class="java_plain">&nbsp;&nbsp;doLast&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;println&nbsp;</span><span class="java_literal">&quot;Hello&nbsp;Gradler!&quot;</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Quick Quiz</h2> 
          <p>What does each individual line do?</p> 
          <pre class=" code"><code><span class="java_plain">task&nbsp;whatAmIDoing</span>
<span class="java_plain">whatAmIDoing</span>
<span class="java_plain">tasks</span><span class="java_separator">.</span><span class="java_plain">whatAmIDoing</span>
<span class="java_plain">whatAmIDoing&nbsp;</span><span class="java_separator">{}</span><span class="java_plain"></span>
<span class="java_plain">whatAmIDoing&nbsp;</span><span class="java_operator">&lt;&lt;</span><span class="java_plain">&nbsp;</span><span class="java_separator">{}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Ad-hoc vs Typed Tasks</h2> 
          <pre class=" code"><code><span class="java_plain">task&nbsp;hello&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;onlyIf&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;day&nbsp;</span><span class="java_operator">==</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;monday&quot;</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;doFirst&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;println&nbsp;</span><span class="java_literal">&quot;Hello&quot;</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <p>Ad-hoc tasks implementations are written in the build script using <code><span class="java_plain">doLast</span><span class="java_separator">()</span><span class="java_plain"></span></code> or <code><span class="java_plain">doFirst</span><span class="java_separator">()</span><span class="java_plain"></span></code>.</p> 
          <pre class=" code"><code><span class="java_plain">task&nbsp;copy</span><span class="java_separator">(</span><span class="java_plain">type</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_type">Copy</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;from&nbsp;</span><span class="java_literal">&quot;someDir&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;into&nbsp;</span><span class="java_literal">&quot;anotherDir&quot;</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <p>Typed tasks are <em>configured</em> in the build script. Implementation is provided by the <code><span class="java_type">Copy</span><span class="java_plain"></span></code> class.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Implementing Task Types</h2> 
          <ul> 
            <li>POJO extending <code><span class="java_type">DefaultTask</span><span class="java_plain"></span></code></li> 
            <li>Declare action with <code><span class="java_plain">@org</span><span class="java_separator">.</span><span class="java_plain">gradle</span><span class="java_separator">.</span><span class="java_plain">api</span><span class="java_separator">.</span><span class="java_plain">tasks</span><span class="java_separator">.</span><span class="java_type">TaskAction</span><span class="java_plain"></span></code></li> 
          </ul> 
          <pre class=" code"><code><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">FtpTask</span><span class="java_plain">&nbsp;</span><span class="java_keyword">extends</span><span class="java_plain">&nbsp;</span><span class="java_type">DefaultTask</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;host&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;docs.mycompany.com&quot;</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;@</span><span class="java_type">TaskAction</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;ftp</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_comment">//&nbsp;do&nbsp;something&nbsp;complicated</span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Task Type &gt; Ad-hoc Task</h2> 
          <p>Prefer implementing task types to implementing ad-hoc tasks.</p> 
          <ul> 
            <li>Avoid global properties and methods</li> 
            <li>Separate the imperative from the declarative</li> 
            <li>Easy to refactor (e.g. from build script to Jar)</li> 
            <li>Easier to utilize other Gradle features</li> 
          </ul> 
          <p>Ad-hoc tasks are OK for small simple tasks.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Lab</h1> 
            <p style="font-weight: bold;">02-custom-tasks</p> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Task Execution Graph</h1> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Task Execution Graph</h2> 
          <p><img src="images/dag.png" style="width: 500px" /></p> 
          <p>Before execution phase, Gradle arranges tasks into execution graph.</p> 
          <ul> 
            <li>Each task to be executed is a node&nbsp;</li> 
            <li>The dependsOn relations define directed edges</li> 
            <li>No cycles are allowed (acyclic)</li> 
          </ul> 
          <p>Known as a Directed Acyclic Graph (DAG).</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Building the Task Ex. Graph</h2> 
          <p>Running: &quot;gradle clean jar&quot;</p> 
          <p><img src="images/building-dag.png" style="width: 800px" /></p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Task is executed at most once</h2> 
          <p><img src="images/smart-merging.png" style="width: 500px" /></p> 
          <pre class=" code"><code><span class="java_comment">//'build'&nbsp;task&nbsp;runs&nbsp;only&nbsp;once:</span>
<span class="java_operator">&gt;</span><span class="java_plain">&nbsp;gradle&nbsp;build&nbsp;build</span>
<span class="java_plain"></span>
<span class="java_comment">//'classes'&nbsp;task&nbsp;runs&nbsp;only&nbsp;once:</span>
<span class="java_operator">&gt;</span><span class="java_plain">&nbsp;gradle&nbsp;clean&nbsp;classes&nbsp;test</span>
<span class="java_plain"></span>
<span class="java_comment">//'classes'&nbsp;task&nbsp;runs&nbsp;twice:</span>
<span class="java_operator">&gt;</span><span class="java_plain">&nbsp;gradle&nbsp;clean&nbsp;classes</span><span class="java_separator">;</span><span class="java_plain">&nbsp;gradle&nbsp;test</span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Lab</h1> 
            <p style="font-weight: bold;">03-task-graph</p> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Task Ordering</h2> 
          <p>The order that tasks are executed in can be optimized.</p> 
          <pre class=" code"><code><span class="java_plain">task&nbsp;unitTests&nbsp;</span><span class="java_separator">{}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">task&nbsp;integrationTests&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;mustRunAfter&nbsp;unitTests</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_comment">//&nbsp;or:&nbsp;shouldRunAfter&nbsp;unitTests</span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <p>Without instruction, task order is undefined.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Task Finalization</h2> 
          <p>Runs a task even if a preceding task has failed.</p> 
          <pre class=" code"><code><span class="java_plain">task&nbsp;startWebServer&nbsp;</span><span class="java_separator">{}</span><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span class="java_plain">task&nbsp;stopWebServer&nbsp;</span><span class="java_separator">{}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">task&nbsp;integrationTests&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;dependsOn&nbsp;startWebServer</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;finalizedBy&nbsp;stopWebServer</span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <p>Often used for releasing resources (cf. Java's try-finally).</p> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Lab</h1> 
            <p style="font-weight: bold;">04-order-and-finalize</p> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Excluding task subgraph</h2> 
          <pre class=" code"><code><span class="java_operator">&gt;</span><span class="java_plain">&nbsp;gradle&nbsp;A&nbsp;</span><span class="java_operator">-</span><span class="java_plain">x&nbsp;B</span></code></pre> 
          <p><img src="images/smart-exclusion.png" style="width: 800px" /></p> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Programmatic Exclusion</h2> 
          <pre class=" code"><code><span class="java_plain">gradle</span><span class="java_separator">.</span><span class="java_plain">startParameter</span><span class="java_separator">.</span><span class="java_plain">excludedTaskNames</span><span class="java_separator">.</span><span class="java_plain">add&nbsp;</span><span class="java_literal">&quot;jar&quot;</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Skipping Tasks</h2> 
          <ul> 
            <li>Actions are not executed</li> 
            <li>Skipped tasks are part of the task execution graph</li> 
            <li>Useful if task execution depends on runtime state</li> 
          </ul> 
          <pre class=" code"><code><span class="java_plain">myTask</span><span class="java_separator">.</span><span class="java_plain">onlyIf&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;hasDocTaskGeneratedTitle</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Adding Tasks Conditionally</h2> 
          <pre class=" code"><code><span class="java_keyword">if</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_plain">isReleaseManagerUser</span><span class="java_separator">())</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;task&nbsp;ftpDistribution&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;doLast&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_comment">//&nbsp;do&nbsp;something</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Lab</h1> 
            <p style="font-weight: bold;">05-excluding-tasks</p> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Querying the Task Ex. Graph</h2> 
          <ul> 
            <li>Gradle provides full access to the execution plan</li> 
            <li>Fail fast if certain properties are not set</li> 
            <li>Make decisions based on what will be executed</li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Querying the Task Ex. Graph</h2> 
          <pre class=" code"><code><span class="java_plain">gradle</span><span class="java_separator">.</span><span class="java_plain">taskGraph</span><span class="java_separator">.</span><span class="java_plain">whenReady&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;graph&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_keyword">if</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_plain">graph</span><span class="java_separator">.</span><span class="java_plain">hasTask</span><span class="java_separator">(</span><span class="java_literal">&quot;:release&quot;</span><span class="java_separator">))</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">if</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_operator">!</span><span class="java_plain">project</span><span class="java_separator">.</span><span class="java_plain">hasProperty</span><span class="java_separator">(</span><span class="java_literal">&quot;releaseUsername&quot;</span><span class="java_separator">))</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">throw</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">GradleException</span><span class="java_separator">(</span><span class="java_literal">&quot;releaseUsername&nbsp;is&nbsp;not&nbsp;set&quot;</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">task&nbsp;someTask&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;doLast&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">if</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_plain">gradle</span><span class="java_separator">.</span><span class="java_plain">taskGraph</span><span class="java_separator">.</span><span class="java_plain">hasTask</span><span class="java_separator">(</span><span class="java_literal">&quot;:otherTask&quot;</span><span class="java_separator">))</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_comment">//&nbsp;do&nbsp;something</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_comment">//&nbsp;What&nbsp;happens&nbsp;here?</span>
<span class="java_plain">println&nbsp;gradle</span><span class="java_separator">.</span><span class="java_plain">taskGraph</span><span class="java_separator">.</span><span class="java_plain">allTasks</span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Lab</h1> 
            <p style="font-weight: bold;">06-using-the-task-graph</p> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Task Rules</h2> 
          <p>Create tasks on demand, usually by naming patterns.</p> 
          <pre class=" code"><code><span class="java_plain">tasks</span><span class="java_separator">.</span><span class="java_plain">addRule</span><span class="java_separator">(</span><span class="java_literal">&quot;Pattern:&nbsp;ping&lt;ID&gt;&quot;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;taskName&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_keyword">if</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_plain">taskName</span><span class="java_separator">.</span><span class="java_plain">startsWith</span><span class="java_separator">(</span><span class="java_literal">&quot;ping&quot;</span><span class="java_separator">))</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;task</span><span class="java_separator">(</span><span class="java_plain">taskName</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doLast&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</span><span class="java_literal">&quot;Pinging:&nbsp;&quot;</span><span class="java_plain">&nbsp;</span><span class="java_operator">+</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_plain">taskName&nbsp;</span><span class="java_operator">-</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;ping&quot;</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">task&nbsp;groupPing&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;dependsOn&nbsp;pingServer1</span><span class="java_separator">,</span><span class="java_plain">&nbsp;pingServer2</span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <p>Used to provide dynamic upload, build and clean tasks. </p> 
          <p>Shown at the bottom of <code><span class="java_plain">gradle&nbsp;tasks</span></code> output.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Logging</h1> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Logging</h2> 
          <ul> 
            <li>6 log levels: <code><span class="java_plain">error</span></code>, <code><span class="java_plain">quiet</span></code>, <code><span class="java_plain">warning</span></code>, <code><span class="java_plain">lifecycle</span></code>, <code><span class="java_plain">info</span></code>, <code><span class="java_plain">debug</span></code></li> 
            <li>Default log level (<code><span class="java_plain">lifecycle</span></code>) is minimalistic</li> 
            <li>Command line options for setting different level</li> 
          </ul> 
          <pre class=" code"><code><span class="java_operator">&gt;</span><span class="java_plain">&nbsp;gradle&nbsp;</span><span class="java_operator">-</span><span class="java_plain">i&nbsp;hello</span>
<span class="java_operator">&gt;</span><span class="java_plain">&nbsp;gradle&nbsp;hello&nbsp;</span><span class="java_operator">-</span><span class="java_plain">d</span>
<span class="java_operator">&gt;</span><span class="java_plain">&nbsp;gradle&nbsp;</span><span class="java_operator">-</span><span class="java_plain">q&nbsp;hello</span></code></pre> 
          <p>When troubleshooting, <code><span class="java_plain">info</span></code> level is usually the most useful.</p> 
          <p>The <code><span class="java_plain">debug</span></code> level has a lot of output.</p> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Logging from the Build Script</h2> 
          <p><code><span class="java_type">Project</span><span class="java_plain"></span></code> and <code><span class="java_type">Task</span><span class="java_plain"></span></code> objects come with a logger.</p> 
          <pre class=" code"><code><span class="java_plain">println&nbsp;</span><span class="java_literal">&quot;A&nbsp;message&nbsp;logged&nbsp;at&nbsp;QUIET&nbsp;level&quot;</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">logger</span><span class="java_separator">.</span><span class="java_plain">quiet&nbsp;</span><span class="java_literal">&quot;A&nbsp;message&nbsp;that&nbsp;is&nbsp;always&nbsp;logged.&quot;</span><span class="java_plain"></span>
<span class="java_plain">logger</span><span class="java_separator">.</span><span class="java_plain">error&nbsp;</span><span class="java_literal">&quot;An&nbsp;error&nbsp;log&nbsp;message.&quot;</span><span class="java_plain"></span>
<span class="java_plain">logger</span><span class="java_separator">.</span><span class="java_plain">warn&nbsp;</span><span class="java_literal">&quot;A&nbsp;warning&nbsp;log&nbsp;message.&quot;</span><span class="java_plain"></span>
<span class="java_plain">logger</span><span class="java_separator">.</span><span class="java_plain">lifecycle&nbsp;</span><span class="java_literal">&quot;A&nbsp;lifecycle&nbsp;log&nbsp;message.&quot;</span><span class="java_plain"></span>
<span class="java_plain">logger</span><span class="java_separator">.</span><span class="java_plain">info&nbsp;</span><span class="java_literal">&quot;An&nbsp;info&nbsp;log&nbsp;message.&quot;</span><span class="java_plain"></span>
<span class="java_plain">logger</span><span class="java_separator">.</span><span class="java_plain">debug&nbsp;</span><span class="java_literal">&quot;A&nbsp;debug&nbsp;log&nbsp;message.&quot;</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">task&nbsp;myTask&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;doLast&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;logger</span><span class="java_separator">.</span><span class="java_plain">info&nbsp;</span><span class="java_literal">&quot;Doing&nbsp;cool&nbsp;stuff…&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Logging from Classes</h2> 
          <pre class=" code"><code><span class="java_keyword">import</span><span class="java_plain">&nbsp;org</span><span class="java_separator">.</span><span class="java_plain">gradle</span><span class="java_separator">.</span><span class="java_plain">api</span><span class="java_separator">.</span><span class="java_plain">logging</span><span class="java_separator">.</span><span class="java_type">Logger</span><span class="java_plain"></span>
<span class="java_keyword">import</span><span class="java_plain">&nbsp;org</span><span class="java_separator">.</span><span class="java_plain">gradle</span><span class="java_separator">.</span><span class="java_plain">api</span><span class="java_separator">.</span><span class="java_plain">logging</span><span class="java_separator">.</span><span class="java_type">Logging</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_type">Logger</span><span class="java_plain">&nbsp;logger&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">Logging</span><span class="java_separator">.</span><span class="java_plain">getLogger</span><span class="java_separator">(</span><span class="java_literal">&quot;some-logger&quot;</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_plain">logger</span><span class="java_separator">.</span><span class="java_plain">info</span><span class="java_separator">(</span><span class="java_literal">&quot;An&nbsp;info&nbsp;log&nbsp;message&quot;</span><span class="java_separator">)</span><span class="java_plain"></span></code></pre> 
          <p>Standard Gradle types expose a logger (e.g. <code><span class="java_type">Task</span><span class="java_separator">.</span><span class="java_plain">getLogger</span><span class="java_separator">()</span><span class="java_plain"></span></code>)</p> 
          <p>Log messages from other logging toolkits are picked up:</p> 
          <ul> 
            <li>SLF4J</li> 
            <li>Java Util Logging</li> 
            <li>Jakarta Commons Logging</li> 
            <li>Log4j</li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Plugins</h1> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Gradle Plugins</h2> 
          <p>Plugins are just packaged build logic. </p> 
          <p>Plugins can do anything that you can do in a build script, and vice versa.</p> 
          <p>Plugins aid:</p> 
          <ol> 
            <li><strong>Reuse</strong> - avoid copy/paste</li> 
            <li><strong>Encapsulation</strong> - hide implementation detail behind a DSL</li> 
            <li><strong>Modularity</strong> - clean, maintainable code</li> 
            <li><strong>Composition</strong> - plugins can complement each other</li> 
          </ol> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Typical Plugin Functions</h2> 
          <p>Some of the things plugins typically do:</p> 
          <ul> 
            <li><strong>Extend the Gradle model</strong> with new elements (e.g. Java plugin's <code><span class="java_plain">sourceSets</span></code>)</li> 
            <li>Configure the project according to <strong>conventions</strong> 
              <ul> 
                <li>Add new tasks</li> 
                <li>Configure existing model elements</li> 
                <li>Add configuration rules for future elements</li> 
              </ul></li> 
            <li>Apply some very <strong>specific configuration</strong> 
              <ul> 
                <li>Configure the project for very specific standards</li> 
              </ul></li> 
          </ul> 
          <aside class="notes"> 
            <p>List is ordered from most general to most specific (i.e. base plugins, framework plugins, corporate plugins)</p> 
          </aside> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Plugin Packaging</h2> 
          <p>Plugins can be implemented as <em>scripts</em> or <em>classes</em>.</p> 
          <ul> 
            <li>Script plugins are just additional Gradle build scripts.</li> 
            <li>Binary plugins are classes that implement the <a href="http://www.gradle.org/docs/current/javadoc/org/gradle/api/Plugin.html"><code><span class="java_type">Plugin</span><span class="java_plain"></span></code></a> interface.</li> 
          </ul> 
          <p>Plugins typically <em>apply</em> to the <code><span class="java_type">Project</span><span class="java_plain"></span></code> object, but not necessarily.</p> 
          <p>Plugins are applied using the <a href="http://www.gradle.org/docs/current/dsl/org.gradle.api.Project.html#org.gradle.api.Project:apply(java.util.Map)">Project.apply()</a> method.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Script Plugins</h2> 
          <p>Script plugins are trivially easy to write and consume.</p> 
          <p><code><span class="java_plain">myPlugin</span><span class="java_separator">.</span><span class="java_plain">gradle</span></code>:</p> 
          <pre class=" code"><code><span class="java_plain">task&nbsp;taskFromPlugin</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;</span>
<span class="java_plain">&nbsp;&nbsp;doLast&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;println&nbsp;</span><span class="java_literal">&quot;added&nbsp;by&nbsp;a&nbsp;script&nbsp;plugin!&quot;</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <p><code><span class="java_plain">build</span><span class="java_separator">.</span><span class="java_plain">gradle</span></code>:</p> 
          <pre class=" code"><code><span class="java_plain">apply&nbsp;from</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;myPlugin.gradle&quot;</span><span class="java_plain"></span></code></pre> 
          <p>Relative file paths are resolved relative to the applying project.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Remote Script Plugins</h2> 
          <p>Script plugins can be sourced over HTTP.</p> 
          <pre class=" code"><code><span class="java_plain">apply&nbsp;from</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;http://my.org/gradle-scripts/awesome-features-1.0.gradle&quot;</span><span class="java_plain"></span></code></pre> 
          <ul> 
            <li>Supports a &quot;push&quot; model of reuse</li> 
            <li>Updates are available to all consumers instantly</li> 
            <li>Up to you to version and control</li> 
          </ul> 
          <p>These scripts are not cached. If the URL is not accessible, your build will fail.</p> 
          <aside class="notes"> 
            <p>Worth mentioning that we plan to do something about the problem with offline builds and script plugins (i.e. cache them)</p> 
          </aside> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Binary Plugins</h2> 
          <p>Binary plugins are implementations of the <a href="http://www.gradle.org/docs/current/javadoc/org/gradle/api/Plugin.html"><code><span class="java_type">Plugin</span><span class="java_plain"></span></code></a> interface.</p> 
          <pre class=" code"><code><span class="java_keyword">package</span><span class="java_plain">&nbsp;org</span><span class="java_separator">.</span><span class="java_plain">foo</span><span class="java_separator">.</span><span class="java_plain">plugins</span>
<span class="java_plain"></span>
<span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">MyPlugin</span><span class="java_plain">&nbsp;</span><span class="java_keyword">implements</span><span class="java_plain">&nbsp;</span><span class="java_type">Plugin</span><span class="java_operator">&lt;</span><span class="java_type">Project</span><span class="java_operator">&gt;</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;apply</span><span class="java_separator">(</span><span class="java_type">Project</span><span class="java_plain">&nbsp;project</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Task</span><span class="java_plain">&nbsp;myTask&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;project</span><span class="java_separator">.</span><span class="java_plain">tasks</span><span class="java_separator">.</span><span class="java_plain">create</span><span class="java_separator">(</span><span class="java_literal">&quot;myTask&quot;</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;myTask</span><span class="java_separator">.</span><span class="java_plain">doLast&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</span><span class="java_literal">&quot;added&nbsp;by&nbsp;a&nbsp;binary&nbsp;plugin!&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <p>Typically compiled and reused via JARs. (Adding plugin JARs to the classpath will be covered later.)</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Applying Binary Plugins</h2> 
          <p>Apply via their class instance…</p> 
          <pre class=" code"><code><span class="java_plain">apply&nbsp;plugin</span><span class="java_operator">:</span><span class="java_plain">&nbsp;org</span><span class="java_separator">.</span><span class="java_plain">foo</span><span class="java_separator">.</span><span class="java_plain">plugins</span><span class="java_separator">.</span><span class="java_type">MyPlugin</span><span class="java_plain"></span></code></pre> 
          <p>Or via their <em>plugin ID</em>:</p> 
          <pre class=" code"><code><span class="java_plain">apply&nbsp;plugin</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;org.foo.my-plugin&quot;</span><span class="java_plain"></span></code></pre> 
          <p>It's harmless to apply the same plugin multiple times (i.e. application is idempotent).</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Declaring Plugin IDs</h2> 
          <p>Plugin types are mapped to IDs by searching the classpath for a conventional properties file.</p> 
          <p>build script:</p> 
          <pre class=" code"><code><span class="java_plain">apply&nbsp;plugin</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;org.foo.my-plugin&quot;</span><span class="java_plain"></span></code></pre> 
          <p>META-INF/gradle-plugins/org.foo.my-plugin.properties:</p> 
          <pre class=" code"><code><span class="java_plain">implementation</span><span class="java_operator">-</span><span class="java_keyword">class</span><span class="java_operator">=</span><span class="java_plain">org</span><span class="java_separator">.</span><span class="java_plain">foo</span><span class="java_separator">.</span><span class="java_plain">plugins</span><span class="java_separator">.</span><span class="java_type">MyPlugin</span><span class="java_plain"></span></code></pre> 
          <p>Name is: META-INF/gradle-plugins/&laquo;plugin id&raquo;.properties</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Standard Gradle Plugins</h2> 
          <p>Gradle ships with many useful plugins.</p> 
          <p>Some examples:</p> 
          <ul> 
            <li><code><span class="java_plain">java</span></code> - compile, test, package, upload Java projects</li> 
            <li><code><span class="java_plain">checkstyle</span></code> - static analysis for Java code</li> 
            <li><code><span class="java_plain">maven</span></code> - uploading artifacts to Apache Maven repositories</li> 
            <li><code><span class="java_plain">scala</span></code> - compile, test, package, upload Scala projects</li> 
            <li><code><span class="java_plain">idea</span></code> and <code><span class="java_plain">eclipse</span></code> - generates metadata so IDEs understand the project</li> 
            <li><code><span class="java_plain">application</span></code> - support packaging your Java code as a runnable application</li> 
          </ul> 
          <p>Many more, <a href="http://www.gradle.org/docs/current/userguide/standard_plugins.html">listed in the Gradle User Guide</a>.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Plugin Composition</h2> 
          <p>Plugins can build upon other plugins. This is a common pattern.</p> 
          <ul> 
            <li>A <code><span class="java_plain">base</span></code> plugin provides generic <em>capabilities</em></li> 
            <li>Another plugin builds on the base, adding opinionated <em>conventions</em></li> 
          </ul> 
          <p>Example:</p> 
          <ul> 
            <li><code><span class="java_plain">java</span><span class="java_operator">-</span><span class="java_plain">base</span></code> plugin adds the &quot;source set&quot; capability</li> 
            <li><code><span class="java_plain">java</span></code> plugin adds a <code><span class="java_plain">main</span></code> and <code><span class="java_plain">test</span></code> source set (and other defaults)</li> 
          </ul> 
          <p>Allows users to back out of conventions if they don't suit.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Plugins Applying Plugins</h2> 
          <pre class=" code"><code><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">JavaPlugin</span><span class="java_plain">&nbsp;</span><span class="java_keyword">implements</span><span class="java_plain">&nbsp;</span><span class="java_type">Plugin</span><span class="java_operator">&lt;</span><span class="java_type">Project</span><span class="java_operator">&gt;</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;apply</span><span class="java_separator">(</span><span class="java_type">Project</span><span class="java_plain">&nbsp;project</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;project</span><span class="java_separator">.</span><span class="java_plain">apply</span><span class="java_separator">(</span><span class="java_plain">plugin</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;java-base&quot;</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;project</span><span class="java_separator">.</span><span class="java_plain">sourceSets&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;main&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;…</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <p>Safe because applying plugins is idempotent.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Lab</h1> 
            <p style="font-weight: bold;">07-applying-plugins</p> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Gradle File Types</h1> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Copy Specs</h2> 
          <p>Abstract, composable, specification of content to be copied (not destination).</p> 
          <pre class=" code"><code><span class="java_keyword">def</span><span class="java_plain">&nbsp;baseSpec&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;copySpec&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;from&nbsp;</span><span class="java_literal">&quot;source&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;include&nbsp;</span><span class="java_literal">&quot;**/*.java&quot;</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">task&nbsp;copy</span><span class="java_separator">(</span><span class="java_plain">type</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_type">Copy</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;from&nbsp;</span><span class="java_literal">&quot;someFile.txt&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;into&nbsp;</span><span class="java_literal">&quot;target&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;with&nbsp;baseSpec</span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">task&nbsp;copy2</span><span class="java_separator">(</span><span class="java_plain">type</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_type">Copy</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;from&nbsp;</span><span class="java_literal">&quot;someFile2.txt&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;into&nbsp;</span><span class="java_literal">&quot;target2&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;with&nbsp;baseSpec</span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Custom Gradle File Types</h2> 
          <p>Specialized types for dealing with collections of files.</p> 
          <ul> 
            <li>FileCollection: flattened set of files (e.g. classpath)</li> 
            <li>FileTree (extends FileCollection): hierarchy of files (e.g. directory)</li> 
          </ul> 
          <p><code><span class="java_type">Project</span><span class="java_plain"></span></code> methods and their return types:</p> 
          <ul> 
            <li><code><span class="java_plain">files</span><span class="java_separator">()</span><span class="java_plain"></span></code> -&gt; <code><span class="java_type">FileCollection</span><span class="java_plain"></span></code></li> 
            <li><code><span class="java_plain">fileTree</span><span class="java_separator">()</span><span class="java_plain"></span></code> -&gt; <code><span class="java_type">FileTree</span><span class="java_plain"></span></code></li> 
            <li><code><span class="java_plain">zipTree</span><span class="java_separator">()</span><span class="java_plain"></span></code> -&gt; <code><span class="java_type">ZipFileTree</span><span class="java_plain"></span></code></li> 
            <li><code><span class="java_plain">tarTree</span><span class="java_separator">()</span><span class="java_plain"></span></code> -&gt; <code><span class="java_type">TarFileTree</span><span class="java_plain"></span></code></li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Custom Gradle File Types</h2> 
          <p>Used extensively through the Gradle API.</p> 
          <p>Key features:</p> 
          <ul> 
            <li>Path representations</li> 
            <li>Ant integration&nbsp;(i.e. convert to Ant types)</li> 
            <li>Relative paths are resolved against the project root</li> 
            <li>Additive (you can add/subtract them)</li> 
            <li>Lazily evaluated</li> 
            <li><code><span class="java_type">Buildable</span><span class="java_plain"></span></code> (more on this later)</li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>FileCollection Examples</h2> 
          <pre class=" code"><code><span class="java_keyword">def</span><span class="java_plain">&nbsp;f&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;files</span><span class="java_separator">(</span><span class="java_literal">&quot;my.txt&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">File</span><span class="java_separator">(</span><span class="java_literal">&quot;/rootFile&quot;</span><span class="java_separator">),</span><span class="java_plain">&nbsp;</span><span class="java_separator">[</span><span class="java_literal">&quot;hello.txt&quot;</span><span class="java_separator">])</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">f</span><span class="java_separator">.</span><span class="java_plain">asPath</span>
<span class="java_plain"></span>
<span class="java_keyword">def</span><span class="java_plain">&nbsp;txtFiles&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;f</span><span class="java_separator">.</span><span class="java_plain">filter&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;file&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;file</span><span class="java_separator">.</span><span class="java_plain">name</span><span class="java_separator">.</span><span class="java_plain">endsWith</span><span class="java_separator">(</span><span class="java_literal">&quot;.txt&quot;</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_keyword">def</span><span class="java_plain">&nbsp;allTextFiles&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;txtFiles&nbsp;</span><span class="java_operator">+</span><span class="java_plain">&nbsp;files</span><span class="java_separator">(</span><span class="java_literal">&quot;new.txt&quot;</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">f</span><span class="java_separator">.</span><span class="java_plain">from&nbsp;</span><span class="java_literal">&quot;other.txt&quot;</span><span class="java_plain"></span>
<span class="java_keyword">assert</span><span class="java_plain">&nbsp;allTextFiles</span><span class="java_separator">.</span><span class="java_plain">contains</span><span class="java_separator">(</span><span class="java_plain">file</span><span class="java_separator">(</span><span class="java_literal">&quot;other.txt&quot;</span><span class="java_separator">))</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_keyword">def</span><span class="java_plain">&nbsp;noTextFiles&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;f&nbsp;</span><span class="java_operator">-</span><span class="java_plain">&nbsp;txtFiles</span>
<span class="java_plain"></span>
<span class="java_plain">allTextFiles</span><span class="java_separator">.</span><span class="java_plain">each&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;file&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain">&nbsp;</span><span class="java_comment">/*&nbsp;do&nbsp;something&nbsp;*/</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">allTextFiles</span><span class="java_separator">.</span><span class="java_plain">files&nbsp;</span><span class="java_comment">//&nbsp;returns&nbsp;a&nbsp;`Set`&nbsp;of&nbsp;files</span></code></pre> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>FileTree Examples</h2> 
          <p><code><span class="java_type">FileTree</span><span class="java_plain"></span></code> extends <code><span class="java_type">FileCollection</span><span class="java_plain"></span></code>.</p> 
          <pre class=" code"><code><span class="java_keyword">def</span><span class="java_plain">&nbsp;tree&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;fileTree</span><span class="java_separator">(</span><span class="java_literal">&quot;someDir&quot;</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_keyword">def</span><span class="java_plain">&nbsp;jpgTree&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;fileTree</span><span class="java_separator">(</span><span class="java_literal">&quot;dir&quot;</span><span class="java_separator">).</span><span class="java_plain">matching&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;include&nbsp;</span><span class="java_literal">&quot;**/*.jpg&quot;</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_keyword">def</span><span class="java_plain">&nbsp;liveFilter&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;tree</span><span class="java_separator">.</span><span class="java_plain">matching&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;include&nbsp;</span><span class="java_literal">&quot;**/*.txt&quot;</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">tree</span><span class="java_separator">.</span><span class="java_plain">exclude&nbsp;</span><span class="java_literal">&quot;**/new.*&quot;</span><span class="java_plain"></span>
<span class="java_keyword">assert</span><span class="java_plain">&nbsp;</span><span class="java_operator">!</span><span class="java_plain">&nbsp;liveFilter</span><span class="java_separator">.</span><span class="java_plain">contains</span><span class="java_separator">(</span><span class="java_plain">file</span><span class="java_separator">(</span><span class="java_literal">&quot;someDir/new.txt&quot;</span><span class="java_separator">))</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">tree</span><span class="java_separator">.</span><span class="java_plain">visit&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;details&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_comment">//&nbsp;do&nbsp;something</span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">tree</span><span class="java_separator">.</span><span class="java_plain">files&nbsp;</span><span class="java_comment">//&nbsp;flattens&nbsp;the&nbsp;tree</span></code></pre> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Lab</h1> 
            <p style="font-weight: bold;">08-gradle-file-types</p> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Misc File Stuff</h1> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Delete Task</h2> 
          <pre class=" code"><code><span class="java_comment">//&nbsp;Delete&nbsp;task</span>
<span class="java_plain">task&nbsp;myDelete</span><span class="java_separator">(</span><span class="java_plain">type</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_type">Delete</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;delete&nbsp;</span><span class="java_literal">&quot;someFile&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;someDir&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;delete&nbsp;file</span><span class="java_separator">(</span><span class="java_literal">&quot;otherDir&quot;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span>
<span class="java_plain">&nbsp;&nbsp;doFirst&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</span><span class="java_literal">&quot;Will&nbsp;delete:&nbsp;$targetFiles&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_comment">//&nbsp;delete&nbsp;method</span>
<span class="java_plain">task&nbsp;myFileTask&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;doLast&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;delete&nbsp;</span><span class="java_literal">&quot;someFile&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;someDir&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Copy Method</h2> 
          <p>You can copy files imperatively, using <code><span class="java_type">Project</span><span class="java_separator">.</span><span class="java_plain">copy</span><span class="java_separator">()</span><span class="java_plain"></span></code>.</p> 
          <pre class=" code"><code><span class="java_comment">//&nbsp;Copy&nbsp;task</span>
<span class="java_plain">task&nbsp;myCopy</span><span class="java_separator">(</span><span class="java_plain">type</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_type">Copy</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;</span><span class="java_literal">&quot;somewhere&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;into&nbsp;</span><span class="java_literal">&quot;somewhere-else&quot;</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_comment">//&nbsp;copy&nbsp;method</span>
<span class="java_plain">task&nbsp;myTask&nbsp;</span><span class="java_operator">&lt;&lt;</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;copy&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;</span><span class="java_literal">&quot;somewhere&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;into&nbsp;</span><span class="java_literal">&quot;somewhere-else&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <ul> 
            <li>Same API as <code><span class="java_type">Copy</span><span class="java_plain"></span></code> task</li> 
            <li>Designed to be used by custom task implementations</li> 
            <li>No up-to-date check</li> 
            <li>Prefer <code><span class="java_type">Copy</span><span class="java_plain"></span></code> task whenever possible</li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Mkdir Method</h2> 
          <p><a href="http://www.gradle.org/docs/current/dsl/org.gradle.api.Project.html#org.gradle.api.Project:mkdir(java.lang.Object)"><code><span class="java_type">Project</span><span class="java_separator">.</span><span class="java_plain">mkdir</span><span class="java_separator">()</span><span class="java_plain"></span></code></a>.</p> 
          <pre class=" code"><code><span class="java_plain">task&nbsp;someTask&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;doLast&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">File</span><span class="java_separator">(</span><span class="java_plain">mkdir</span><span class="java_separator">(</span><span class="java_literal">&quot;some/dir&quot;</span><span class="java_separator">),</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;foo.txt&quot;</span><span class="java_separator">).</span><span class="java_plain">text&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;bar&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <p>Provides useful error messages and resolves relative paths.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Some Missing Bits</h2> 
          <p>No move task/method (use the Ant task or Java API).</p> 
          <p>No jar/zip/tar methods (use tasks).</p> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Ant Integration</h1> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Ant</h2> 
          <ul> 
            <li>Ant is Gradle's friend, not its competitor</li> 
            <li>Gradle uses Ant tasks internally</li> 
            <li>You can use any Ant task from Gradle</li> 
            <li>Ant tasks are an integral part of Gradle</li> 
            <li>Gradle ships with Ant</li> 
            <li>You can import any Ant build into Gradle</li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Ant Tasks</h2> 
          <p>Projects provide an enhanced version of Groovy’s <code><span class="java_type">AntBuilder</span><span class="java_plain"></span></code>.</p> 
          <pre class=" code"><code><span class="java_plain">ant</span><span class="java_separator">.</span><span class="java_plain">delete&nbsp;dir</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;someDir&quot;</span><span class="java_plain"></span>
<span class="java_plain">ant&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;ftp</span><span class="java_separator">(</span><span class="java_plain">server</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;ftp.comp.org&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;userid</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;me&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_separator">...)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;fileset</span><span class="java_separator">(</span><span class="java_plain">dir</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;htdocs/manual&quot;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include&nbsp;name</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;**/*.html&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_comment">//&nbsp;high&nbsp;end</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;myFileTree</span><span class="java_separator">.</span><span class="java_plain">addToAntBuilder</span><span class="java_separator">(</span><span class="java_plain">ant</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;fileset&quot;</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;mkdir&nbsp;dir</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;someDir&quot;</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <ul> 
            <li>Executed immediately</li> 
            <li>Almost always go into task action</li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Basic rules for conversion</h2> 
          <ul> 
            <li>XML elements become method calls</li> 
            <li>XML attributes become Map arguments</li> 
            <li>XML element text becomes a String argument</li> 
            <li>Child elements are declared inside a closure argument</li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Ant task example</h2> 
          <p>Ant:</p> 
          <pre class=" code"><code><span class="java_operator">&lt;</span><span class="java_plain">ftp&nbsp;server</span><span class="java_operator">=</span><span class="java_literal">&quot;ftp.comp.org&quot;</span><span class="java_plain">&nbsp;userid</span><span class="java_operator">=</span><span class="java_literal">&quot;me&quot;</span><span class="java_operator">&gt;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">&lt;</span><span class="java_plain">fileset&nbsp;dir</span><span class="java_operator">=</span><span class="java_literal">&quot;htdocs/manual&quot;</span><span class="java_operator">&gt;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">&lt;</span><span class="java_plain">include&nbsp;name</span><span class="java_operator">=</span><span class="java_literal">&quot;**/*.html&quot;</span><span class="java_operator">/&gt;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">&lt;/</span><span class="java_plain">fileset</span><span class="java_operator">&gt;</span><span class="java_plain"></span>
<span class="java_operator">&lt;/</span><span class="java_plain">ftp</span><span class="java_operator">&gt;</span><span class="java_plain"></span>
<span class="java_operator">&lt;</span><span class="java_plain">echo</span><span class="java_operator">&gt;</span><span class="java_type">Hello</span><span class="java_operator">!&lt;/</span><span class="java_plain">echo</span><span class="java_operator">&gt;</span><span class="java_plain"></span></code></pre> 
          <p>Gradle:</p> 
          <pre class=" code"><code><span class="java_plain">ant</span><span class="java_separator">.</span><span class="java_plain">ftp</span><span class="java_separator">(</span><span class="java_plain">server</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;ftp.comp.org&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;userid</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;me&quot;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;fileset</span><span class="java_separator">(</span><span class="java_plain">dir</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;htdocs/manual&quot;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include&nbsp;name</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;**/*.html&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">ant</span><span class="java_separator">.</span><span class="java_plain">echo</span><span class="java_separator">(</span><span class="java_literal">&quot;Hello!&quot;</span><span class="java_separator">)</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Importing Ant Builds</h2> 
          <p>build.xml:</p> 
          <pre class=" code"><code><span class="java_operator">&lt;</span><span class="java_plain">project</span><span class="java_operator">&gt;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_operator">&lt;</span><span class="java_plain">target&nbsp;name</span><span class="java_operator">=</span><span class="java_literal">&quot;hello&quot;</span><span class="java_plain">&nbsp;depends</span><span class="java_operator">=</span><span class="java_literal">&quot;intro&quot;</span><span class="java_operator">&gt;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">&lt;</span><span class="java_plain">echo</span><span class="java_operator">&gt;</span><span class="java_type">Hello</span><span class="java_separator">,</span><span class="java_plain">&nbsp;from&nbsp;</span><span class="java_type">Ant</span><span class="java_operator">&lt;/</span><span class="java_plain">echo</span><span class="java_operator">&gt;</span><span class="java_plain">&nbsp;</span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_operator">&lt;/</span><span class="java_plain">target</span><span class="java_operator">&gt;</span><span class="java_plain"></span>
<span class="java_operator">&lt;/</span><span class="java_plain">project</span><span class="java_operator">&gt;</span><span class="java_plain"></span></code></pre> 
          <p>build.gradle:</p> 
          <pre class=" code"><code><span class="java_plain">ant</span><span class="java_separator">.</span><span class="java_plain">importBuild&nbsp;</span><span class="java_literal">&quot;build.xml&quot;</span><span class="java_plain"></span>
<span class="java_plain">hello</span><span class="java_separator">.</span><span class="java_plain">doFirst&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;println&nbsp;</span><span class="java_literal">&quot;Here&nbsp;comes&nbsp;Ant&quot;</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">task&nbsp;intro&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;</span>
<span class="java_plain">&nbsp;&nbsp;doLast&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;println&nbsp;</span><span class="java_literal">&quot;Hello,&nbsp;from&nbsp;Gradle&quot;</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">$&nbsp;gradle&nbsp;hello</span>
<span class="java_type">Hello</span><span class="java_separator">,</span><span class="java_plain">&nbsp;from&nbsp;</span><span class="java_type">Gradle</span><span class="java_plain"></span>
<span class="java_type">Here</span><span class="java_plain">&nbsp;comes&nbsp;</span><span class="java_type">Ant</span><span class="java_plain"></span>
<span class="java_separator">[</span><span class="java_plain">ant</span><span class="java_operator">:</span><span class="java_plain">echo</span><span class="java_separator">]</span><span class="java_plain">&nbsp;</span><span class="java_type">Hello</span><span class="java_separator">,</span><span class="java_plain">&nbsp;from&nbsp;</span><span class="java_type">Ant</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Lab</h1> 
            <p style="font-weight: bold;">09-ant-integration</p> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Dependency Management</h1> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Dependencies</h2> 
          <ul> 
            <li>Types of dependencies: 
              <ul> 
                <li>Repository dependencies 
                  <ul> 
                    <li>e.g. from Maven Central</li> 
                    <li>with module descriptors (pom/ivy file)</li> 
                  </ul></li> 
                <li>Repository-less dependencies (specified by path)</li> 
                <li>Project dependencies in a multi-project build</li> 
              </ul></li> 
            <li>Domain objects: 
              <ul> 
                <li>Repository</li> 
                <li>Dependency</li> 
                <li>Configuration</li> 
                <li>Artifact</li> 
              </ul></li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Working with Dependencies</h2> 
          <ul> 
            <li>Configuration is a FileCollection</li> 
            <li>Has a rich API</li> 
          </ul> 
          <pre class=" code"><code><span class="java_plain">configurations</span><span class="java_separator">.</span><span class="java_plain">runtime</span><span class="java_separator">.</span><span class="java_plain">each&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;file&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;println&nbsp;file</span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">configurations</span><span class="java_separator">.</span><span class="java_plain">runtime</span><span class="java_separator">.</span><span class="java_plain">dependencies</span><span class="java_separator">.</span><span class="java_plain">matching&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;dep&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;dep</span><span class="java_separator">.</span><span class="java_plain">group&nbsp;</span><span class="java_operator">==</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;org.gradle&quot;</span><span class="java_plain"></span>
<span class="java_separator">}.</span><span class="java_plain">each&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;println&nbsp;it</span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">task&nbsp;copy</span><span class="java_separator">(</span><span class="java_plain">type</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_type">Copy</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;from&nbsp;configurations</span><span class="java_separator">.</span><span class="java_plain">runtime</span>
<span class="java_plain">&nbsp;&nbsp;into&nbsp;</span><span class="java_literal">&quot;someFolder&quot;</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Transitive Dependencies</h2> 
          <ul> 
            <li>Advantage of repository dependencies</li> 
            <li>pom/ivy model describes the transitive dependencies</li> 
            <li>Default version conflict resolution is <em>newest</em></li> 
            <li>Option to use <em>fail</em> conflict resolution</li> 
            <li>Transitive resolution is customizable</li> 
          </ul> 
          <pre class=" code"><code><span class="java_plain">dependencies&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;compile</span><span class="java_separator">(</span><span class="java_literal">&quot;org.hibernate:hibernate:3.1&quot;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;force&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">true</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;exclude&nbsp;module</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;cglib&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;compile</span><span class="java_separator">(</span><span class="java_literal">&quot;org:somename:1.0&quot;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;transitive&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">false</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">configurations</span><span class="java_separator">.</span><span class="java_plain">myconf&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;transitive&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">false</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;resolutionStrategy</span><span class="java_separator">.</span><span class="java_plain">failOnVersionConflict</span><span class="java_separator">()</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Forcing versions</h2> 
          <ul> 
            <li>Forcing versions makes it possible to override default conflict resolution mechanism</li> 
            <li>Forcing versions can be used to avoid bad versions or to stick with specific version</li> 
          </ul> 
          <pre class=" code"><code><span class="java_plain">dependencies&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_comment">//forcing&nbsp;version&nbsp;of&nbsp;a&nbsp;direct&nbsp;dependency</span>
<span class="java_plain">&nbsp;&nbsp;compile</span><span class="java_separator">(</span><span class="java_literal">&quot;org.hibernate:hibernate:3.1&quot;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;force&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">true</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_comment">//forcing&nbsp;version&nbsp;at&nbsp;the&nbsp;level&nbsp;of&nbsp;configuration</span>
<span class="java_comment">//affects&nbsp;direct&nbsp;and&nbsp;transitive&nbsp;dependencies</span>
<span class="java_plain">configurations</span><span class="java_separator">.</span><span class="java_plain">compile&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;resolutionStrategy</span><span class="java_separator">.</span><span class="java_plain">force&nbsp;</span><span class="java_literal">&quot;org.hibernate:hibernate:3.1&quot;</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Dependency Resolution Strategies</h2> 
          <pre class=" code"><code><span class="java_plain">configurations</span><span class="java_separator">.</span><span class="java_plain">all&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;resolutionStrategy</span><span class="java_separator">.</span><span class="java_plain">eachDependency&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;</span><span class="java_type">DependencyResolveDetails</span><span class="java_plain">&nbsp;details&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">if</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_plain">details</span><span class="java_separator">.</span><span class="java_plain">requested</span><span class="java_separator">.</span><span class="java_plain">group&nbsp;</span><span class="java_operator">==</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;org.gradle&quot;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details</span><span class="java_separator">.</span><span class="java_plain">useVersion&nbsp;</span><span class="java_literal">&quot;1.4&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;resolutionStrategy</span><span class="java_separator">.</span><span class="java_plain">eachDependency&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;details&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">if</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_plain">details</span><span class="java_separator">.</span><span class="java_plain">requested</span><span class="java_separator">.</span><span class="java_plain">group&nbsp;</span><span class="java_operator">==</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;org.acme.software&quot;</span><span class="java_plain">&nbsp;</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">&amp;&amp;</span><span class="java_plain">&nbsp;details</span><span class="java_separator">.</span><span class="java_plain">requested</span><span class="java_separator">.</span><span class="java_plain">name&nbsp;</span><span class="java_operator">==</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;cool-library&quot;</span><span class="java_plain">&nbsp;</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">&amp;&amp;</span><span class="java_plain">&nbsp;details</span><span class="java_separator">.</span><span class="java_plain">requested</span><span class="java_separator">.</span><span class="java_plain">version&nbsp;</span><span class="java_operator">==</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;1.2&quot;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_comment">//prefer&nbsp;different&nbsp;version&nbsp;which&nbsp;contains&nbsp;some&nbsp;fixes</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details</span><span class="java_separator">.</span><span class="java_plain">useVersion&nbsp;</span><span class="java_literal">&quot;1.2.1&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Dependency Reports</h2> 
          <p>Viewing the dependency tree:</p> 
          <pre class=" code"><code><span class="java_plain">gradle&nbsp;dependencies&nbsp;</span><span class="java_separator">[</span><span class="java_operator">--</span><span class="java_plain">configuration&nbsp;&laquo;name&raquo;</span><span class="java_separator">]</span><span class="java_plain"></span></code></pre> 
          <p>Focus on a particular dependency: </p> 
          <pre class=" code"><code><span class="java_plain">gradle&nbsp;dependencyInsight&nbsp;</span><span class="java_operator">--</span><span class="java_plain">dependency&nbsp;&laquo;name&raquo;&nbsp;</span><span class="java_operator">--</span><span class="java_plain">configuration&nbsp;&laquo;name&raquo;</span></code></pre> 
          <ul> 
            <li>Defaults to compile</li> 
            <li>Shows versions and selection <em>reason</em></li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Lab</h1> 
            <p style="font-weight: bold;">10-transitive-dependencies</p> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Uploading</h2> 
          <ul> 
            <li>Upload your artifacts to any Maven/Ivy repository</li> 
            <li>pom/ivy file is generated</li> 
            <li>Repository metadata (e.g. maven-metadata.xml) is generated</li> 
            <li>&quot;base&quot; plugin adds &quot;archives&quot; configuration and applies task rules for uploading configurations</li> 
            <li>&quot;java&quot; plugin automatically adds jar to the &quot;archives&quot; configuration artifacts</li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Uploading to Ivy Repositories</h2> 
          <pre class=" code"><code><span class="java_plain">task&nbsp;myJar</span><span class="java_separator">(</span><span class="java_plain">type</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_type">Jar</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">artifacts&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;archives&nbsp;myJar</span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">uploadArchives&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;repositories&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;ivy&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;url&nbsp;</span><span class="java_literal">&quot;http://repo.mycompany.com&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;credentials&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;username&nbsp;</span><span class="java_literal">&quot;john&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;password&nbsp;</span><span class="java_literal">&quot;secret&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Lab</h1> 
            <p style="font-weight: bold;">11-ivy-uploading</p> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Uploading to Maven Repositories</h2> 
          <pre class=" code"><code><span class="java_plain">apply&nbsp;plugin</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;maven&quot;</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">uploadArchives&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;repositories&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;mavenDeployer&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;repository</span><span class="java_separator">(</span><span class="java_plain">url</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;http://my.org/m2repo/&quot;</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <ul> 
            <li>Provided by the <a href="http://www.gradle.org/docs/current/userguide/maven_plugin.html"><code><span class="java_plain">maven</span></code> plugin</a></li> 
            <li>You can use all wagon protocols for uploading</li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Install to Local Maven Repo</h2> 
          <p>Installs into ~/.m2/repository (reads Maven's <code><span class="java_plain">settings</span><span class="java_separator">.</span><span class="java_plain">xml</span></code>).</p> 
          <pre class=" code"><code><span class="java_plain">apply&nbsp;plugin</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;maven&quot;</span><span class="java_plain"></span></code></pre> 
          <p>The <code><span class="java_plain">install</span></code> task is added by the maven plugin.</p> 
          <pre class=" code"><code><span class="java_operator">&gt;</span><span class="java_plain">&nbsp;gradle&nbsp;install</span></code></pre> 
          <p>Can be useful for locally sharing development versions.</p> 
          <pre class=" code"><code><span class="java_plain">repositories&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;mavenLocal</span><span class="java_separator">()</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Customizing the POM</h2> 
          <pre class=" code"><code><span class="java_plain">uploadArchives&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;repositories&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;mavenDeployer&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;repository</span><span class="java_separator">(</span><span class="java_plain">url</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;http://my.org/m2repo/&quot;</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pom</span><span class="java_separator">.</span><span class="java_plain">project&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description&nbsp;</span><span class="java_literal">&quot;A&nbsp;test&nbsp;project&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;licenses&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;license&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;</span><span class="java_literal">&quot;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;url&nbsp;</span><span class="java_literal">&quot;http://.../LICENSE-2.0.txt&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <p><code><span class="java_plain">pom</span><span class="java_separator">.</span><span class="java_plain">project&nbsp;</span><span class="java_separator">{}</span><span class="java_plain"></span></code> gives full access to the Maven class model.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Lab</h1> 
            <p style="font-weight: bold;">12-maven-uploading</p> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Extending Gradle</h1> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Gradle Extensibility</h2> 
          <p>Different to Groovy's extensibility.</p> 
          <ul> 
            <li>Add &quot;extra properties&quot; to objects</li> 
            <li>Add &quot;extension&quot; objects to existing objects</li> 
          </ul> 
          <p>Allows built in domain types to be extended, including <code><span class="java_type">Project</span><span class="java_plain"></span></code>.</p> 
          <p>Makes the <em>build language</em> extensible.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Global Properties</h2> 
          <pre class=" code"><code><span class="java_keyword">def</span><span class="java_plain">&nbsp;myDocsDestDir&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;$buildDir/myDocs&quot;</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">task&nbsp;myDocs&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;doLast&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;copy&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;</span><span class="java_literal">&quot;someDir&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;into&nbsp;myDocsDestDir</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">task&nbsp;zip</span><span class="java_separator">(</span><span class="java_plain">type</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_type">Zip</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;from&nbsp;myDocsDestDir</span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <p>Easy to lose relationship between producers and consumers.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Extra Properties</h2> 
          <pre class=" code"><code><span class="java_plain">task&nbsp;myDocs&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;ext</span><span class="java_separator">.</span><span class="java_plain">destDir&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;$buildDir/myDocs&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;doLast&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;copy&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;</span><span class="java_literal">&quot;someDir&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;into&nbsp;destDir</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">task&nbsp;zip</span><span class="java_separator">(</span><span class="java_plain">type</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_type">Zip</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;from&nbsp;myDocs</span><span class="java_separator">.</span><span class="java_plain">destDir</span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <ul> 
            <li>Applicable to most Gradle types</li> 
            <li>Good OO design (e.g. encapsulation)</li> 
            <li>Custom task type is a (more heavyweight) alternative</li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Extra Methods</h2> 
          <pre class=" code"><code><span class="java_plain">task&nbsp;bar&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;ext&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;serviceUrl&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_separator">...</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_comment">//adding&nbsp;a&nbsp;'domainGroup'&nbsp;method:</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;domainGroup&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getGroup</span><span class="java_separator">(</span><span class="java_plain">serviceUrl</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">task&nbsp;foo&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;fooProp&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;bar</span><span class="java_separator">.</span><span class="java_plain">domainGroup</span><span class="java_separator">()</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <p>Just extra properties, where the property value is a Groovy closure.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Extensions</h2> 
          <p>New objects can be attached to existing ones.</p> 
          <pre class=" code"><code><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">MyExtension</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;someProperty</span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">extensions</span><span class="java_separator">.</span><span class="java_plain">create</span><span class="java_separator">(</span><span class="java_literal">&quot;myDSL&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">MyExtension</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">myDSL&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;someProperty&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;someValue&quot;</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <p>Most types are extensible.</p> 
          <p>See <a href="http://www.gradle.org/docs/current/dsl/org.gradle.api.plugins.ExtensionAware.html"><code><span class="java_type">ExtensionAware</span><span class="java_plain"></span></code></a> and <a href="http://www.gradle.org/docs/current/javadoc/org/gradle/api/plugins/ExtensionContainer.html"><code><span class="java_type">ExtensionContainer</span><span class="java_plain"></span></code></a>.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Domain Object Container</h2> 
          <p>Used for many domain objects (plugins, configs, tasks, ...)</p> 
          <pre class=" code"><code><span class="java_keyword">def</span><span class="java_plain">&nbsp;allJars&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;tasks</span><span class="java_separator">.</span><span class="java_plain">withType</span><span class="java_separator">(</span><span class="java_type">Jar</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_comment">//built-in&nbsp;filter</span>
<span class="java_plain">task&nbsp;myJar</span><span class="java_separator">(</span><span class="java_plain">type</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_type">Jar</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_comment">//filter&nbsp;is&nbsp;'live'</span>
<span class="java_plain"></span>
<span class="java_comment">//custom&nbsp;filter:</span>
<span class="java_keyword">def</span><span class="java_plain">&nbsp;webTasks&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;tasks</span><span class="java_separator">.</span><span class="java_plain">matching&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;task&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;task</span><span class="java_separator">.</span><span class="java_plain">name</span><span class="java_separator">.</span><span class="java_plain">startsWith</span><span class="java_separator">(</span><span class="java_literal">&quot;web&quot;</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_comment">//filter&nbsp;chaining:</span>
<span class="java_keyword">def</span><span class="java_plain">&nbsp;compJars&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;tasks</span><span class="java_separator">.</span><span class="java_plain">withType</span><span class="java_separator">(</span><span class="java_type">Jar</span><span class="java_separator">).</span><span class="java_plain">matching&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;task&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;task</span><span class="java_separator">.</span><span class="java_plain">name</span><span class="java_separator">.</span><span class="java_plain">startsWith</span><span class="java_separator">(</span><span class="java_literal">&quot;compile&quot;</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_comment">//dynamic&nbsp;dependsOn</span>
<span class="java_plain">task&nbsp;buildAllJars&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;dependsOn&nbsp;allJars&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Configuration Rules</h2> 
          <p>Apply configuration to matching items now and in the future.</p> 
          <pre class=" code"><code><span class="java_plain">tasks</span><span class="java_separator">.</span><span class="java_plain">all&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;doFirst&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</span><span class="java_literal">'rule&nbsp;for&nbsp;all&nbsp;tasks,&nbsp;including&nbsp;those&nbsp;not&nbsp;yet&nbsp;created'</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">tasks</span><span class="java_separator">.</span><span class="java_plain">withType</span><span class="java_separator">(</span><span class="java_type">Jar</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;destinationDir&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;somePath&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;doLast&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;</span><span class="java_comment">/*&nbsp;do&nbsp;something&nbsp;*/</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">tasks</span><span class="java_separator">.</span><span class="java_plain">whenTaskAdded&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;task&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain">&nbsp;</span><span class="java_separator">...</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Configuration Rules Example</h2> 
          <pre class=" code"><code><span class="java_plain">tasks</span><span class="java_separator">.</span><span class="java_plain">withType</span><span class="java_separator">(</span><span class="java_type">Jar</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;ext</span><span class="java_separator">.</span><span class="java_plain">ftp&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">false</span><span class="java_plain">&nbsp;</span><span class="java_comment">//&nbsp;add&nbsp;extra&nbsp;property</span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">task&nbsp;jar1</span><span class="java_separator">(</span><span class="java_plain">type</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_type">Jar</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">task&nbsp;jar2</span><span class="java_separator">(</span><span class="java_plain">type</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_type">Jar</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;ftp&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">true</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">ext</span><span class="java_separator">.</span><span class="java_plain">ftpJars&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;tasks</span><span class="java_separator">.</span><span class="java_plain">withType</span><span class="java_separator">(</span><span class="java_type">Jar</span><span class="java_separator">).</span><span class="java_plain">matching&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;it</span><span class="java_separator">.</span><span class="java_plain">ftp&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">task&nbsp;jar3</span><span class="java_separator">(</span><span class="java_plain">type</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_type">Jar</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;ftp&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">true</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">task&nbsp;showFtpJars&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;doLast&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;ftpJars</span><span class="java_separator">.</span><span class="java_plain">each&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;println&nbsp;it</span><span class="java_separator">.</span><span class="java_plain">name&nbsp;</span><span class="java_separator">}</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Lab</h1> 
            <p style="font-weight: bold;">13-extending-gradle</p> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Task Inputs/Outputs</h1> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Task Inputs/Outputs</h2> 
          <ul> 
            <li>One of Gradle's killer features</li> 
            <li>You can describe: 
              <ul> 
                <li>Input/output files</li> 
                <li>Input/output directories</li> 
                <li>Input properties</li> 
              </ul></li> 
            <li>Gradle’s built-in tasks all describe their inputs/outputs</li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Input/Output Annotations</h2> 
          <pre class=" code"><code><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">MyTask</span><span class="java_plain">&nbsp;</span><span class="java_keyword">extends</span><span class="java_plain">&nbsp;</span><span class="java_type">DefaultTask</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;@</span><span class="java_type">InputFile</span><span class="java_plain">&nbsp;</span><span class="java_type">File</span><span class="java_plain">&nbsp;text</span>
<span class="java_plain">&nbsp;&nbsp;@</span><span class="java_type">InputFiles</span><span class="java_plain">&nbsp;</span><span class="java_type">FileCollection</span><span class="java_plain">&nbsp;path</span>
<span class="java_plain">&nbsp;&nbsp;@</span><span class="java_type">InputDirectory</span><span class="java_plain">&nbsp;</span><span class="java_type">File</span><span class="java_plain">&nbsp;templates</span>
<span class="java_plain">&nbsp;&nbsp;@</span><span class="java_type">Input</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;mode</span>
<span class="java_plain">&nbsp;&nbsp;@</span><span class="java_type">OutputFile</span><span class="java_plain">&nbsp;</span><span class="java_type">File</span><span class="java_plain">&nbsp;result</span>
<span class="java_plain">&nbsp;&nbsp;@</span><span class="java_type">OutputDirectory</span><span class="java_plain">&nbsp;</span><span class="java_type">File</span><span class="java_plain">&nbsp;transformedTemplates</span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;verbose&nbsp;</span><span class="java_comment">//&nbsp;ignored</span>
<span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;@</span><span class="java_type">TaskAction</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;generate</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;</span><span class="java_separator">...</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Input/Output API</h2> 
          <pre class=" code"><code><span class="java_plain">ant</span><span class="java_separator">.</span><span class="java_keyword">import</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;build.xml&quot;</span><span class="java_plain"></span>
<span class="java_plain">someAntTarget&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;inputs</span><span class="java_separator">.</span><span class="java_plain">files&nbsp;</span><span class="java_literal">&quot;template.tm&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">File</span><span class="java_separator">(</span><span class="java_literal">&quot;data.txt&quot;</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;inputs</span><span class="java_separator">.</span><span class="java_plain">dir&nbsp;</span><span class="java_literal">&quot;someDir&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;outputs</span><span class="java_separator">.</span><span class="java_plain">files&nbsp;</span><span class="java_literal">&quot;output.txt&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;outputs</span><span class="java_separator">.</span><span class="java_plain">dir&nbsp;</span><span class="java_literal">&quot;generatedFilesDir&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;outputs</span><span class="java_separator">.</span><span class="java_plain">upToDateWhen&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;task&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;dbDataUpToDate</span><span class="java_separator">(</span><span class="java_plain">task</span><span class="java_separator">.</span><span class="java_plain">dbUrl</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Incremental Build</h2> 
          <ul> 
            <li><p>A task is UP-TO-DATE if:</p> 
              <ul> 
                <li>Inputs haven’t changed</li> 
                <li>Outputs still present (untampered)</li> 
              </ul></li> 
            <li><p>Change detection</p> 
              <ul> 
                <li>Input/output files are hashed</li> 
                <li>Content of input/output dirs is hashed</li> 
                <li>Values of input properties are serialized</li> 
              </ul></li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>More details</h2> 
          <ul> 
            <li>file hashes are kept in projectDir/.gradle</li> 
            <li>--rerun-tasks command line option bypasses up-to-date checks</li> 
            <li>running the build with -i (--info) reveals more insight into up-to-date calculation</li> 
            <li>'UP-TO-DATE' decoration in the terminal is also printed for skipped tasks (for example, tasks that have no actions) 
              <ul> 
                <li>use --info to understand up-to-date result</li> 
              </ul></li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Property Processing</h2> 
          <ul> 
            <li>Input files/dirs are verified to exist 
              <ul> 
                <li>Disable with @Optional</li> 
              </ul></li> 
            <li>Output dirs are created before execution</li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Inferred Task Dependencies</h2> 
          <ul> 
            <li>FileCollection/FileTree can be buildable</li> 
            <li>Buildable input files/dirs allows inferring the dependencies</li> 
          </ul> 
          <pre class=" code"><code><span class="java_plain">task&nbsp;generatedByMe&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;doLast&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;</span><span class="java_comment">/*write&nbsp;into&nbsp;mydir*/</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_keyword">def</span><span class="java_plain">&nbsp;myFiles&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;files</span><span class="java_separator">(</span><span class="java_literal">&quot;$buildDir/mydir&quot;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;builtBy&nbsp;generatedByMe&nbsp;</span><span class="java_comment">//&nbsp;could&nbsp;be&nbsp;many&nbsp;tasks</span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">task&nbsp;copy</span><span class="java_separator">(</span><span class="java_plain">type</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_type">Copy</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;from&nbsp;myFiles&nbsp;</span><span class="java_comment">//&nbsp;implicit&nbsp;dependsOn</span>
<span class="java_plain">&nbsp;&nbsp;into&nbsp;</span><span class="java_literal">&quot;someDir&quot;</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">compileJava&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;classpath&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;myFiles&nbsp;</span><span class="java_comment">//&nbsp;implicit&nbsp;dependsOn</span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Custom Tasks...</h2> 
          <pre class=" code"><code><span class="java_plain">task&nbsp;generatedByMe&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;</span><span class="java_separator">...</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_keyword">def</span><span class="java_plain">&nbsp;myFiles&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;files</span><span class="java_separator">(</span><span class="java_literal">&quot;$buildDir/mydir&quot;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;builtBy&nbsp;generatedByMe</span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">task&nbsp;task1&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_comment">//will&nbsp;below&nbsp;infer&nbsp;the&nbsp;necessary&nbsp;dependency?</span>
<span class="java_plain">&nbsp;&nbsp;doLast&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;println&nbsp;myFiles</span><span class="java_separator">.</span><span class="java_plain">files&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">task&nbsp;task2&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;dependsOn&nbsp;myFiles</span>
<span class="java_plain">&nbsp;&nbsp;doLast&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;println&nbsp;myFiles</span><span class="java_separator">.</span><span class="java_plain">files&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">task&nbsp;task3&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;inputs</span><span class="java_separator">.</span><span class="java_plain">files&nbsp;myFiles&nbsp;</span><span class="java_comment">//&nbsp;implicit&nbsp;dependsOn&nbsp;+&nbsp;incremental&nbsp;build</span>
<span class="java_plain">&nbsp;&nbsp;doLast&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;println&nbsp;myFiles</span><span class="java_separator">.</span><span class="java_plain">files&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Lab</h1> 
            <p style="font-weight: bold;">14-task-input-output</p> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Java Plugin</h1> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Java Plugins</h2> 
          <ul> 
            <li>java-base 
              <ul> 
                <li>Provides additional Task types</li> 
                <li>Defines rules for conventions</li> 
                <li>Adds declarative elements to the DSL (e.g. SourceSet)</li> 
              </ul></li> 
            <li>java 
              <ul> 
                <li>Adds task instances to the project</li> 
                <li>Adds default values to task instances</li> 
                <li>Adds source sets for production and test code</li> 
                <li>Configures the dependency management for Java projects (adds scopes for compile, runtime, ...)</li> 
              </ul></li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Source Sets</h2> 
          <p>Models a <em>logical</em> unit of source code.</p> 
          <ul> 
            <li>Source files (e.g .java files)</li> 
            <li>Resource files (e.g. properties files)</li> 
            <li>Output class files</li> 
            <li>Compile &amp; runtime classpaths</li> 
            <li>Associated tasks (e.g. compile)</li> 
          </ul> 
          <p>A declarative element.</p> 
          <p>Java plugin adds <code><span class="java_plain">main</span></code> and <code><span class="java_plain">test</span></code>.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Source Set Defaults</h2> 
          <p>When using the <code><span class="java_plain">java</span><span class="java_operator">-</span><span class="java_plain">base</span></code> plugin, all source sets have the defaults:</p> 
          <ul> 
            <li>Source: <code><span class="java_plain">src</span><span class="java_operator">/</span><span class="java_plain">&laquo;name&raquo;</span><span class="java_operator">/</span><span class="java_plain">&laquo;language&raquo;</span></code></li> 
            <li>Resources: <code><span class="java_plain">src</span><span class="java_operator">/</span><span class="java_plain">&laquo;name&raquo;</span><span class="java_operator">/</span><span class="java_plain">resources</span></code></li> 
            <li>Classes: <code><span class="java_plain">$buildDir</span><span class="java_operator">/</span><span class="java_plain">classes</span><span class="java_operator">/</span><span class="java_plain">&laquo;name&raquo;</span></code></li> 
            <li>Compile task: <code><span class="java_plain">compile&laquo;name&raquo;&laquo;language&raquo;</span></code> 
              <ul> 
                <li>e.g. <code><span class="java_plain">compileTestJava</span></code></li> 
              </ul></li> 
            <li>Resource task: <code><span class="java_plain">process&laquo;name&raquo;</span><span class="java_type">Resources</span><span class="java_plain"></span></code> 
              <ul> 
                <li>e.g. <code><span class="java_plain">processTestResources</span></code></li> 
              </ul></li> 
            <li>Compile dependencies configuration: <code><span class="java_plain">&laquo;name&raquo;</span><span class="java_type">Compile</span><span class="java_plain"></span></code> configuration 
              <ul> 
                <li>e.g. <code><span class="java_plain">testCompile</span></code></li> 
              </ul></li> 
            <li>Runtime dependencies configuration: <code><span class="java_plain">&laquo;name&raquo;</span><span class="java_type">Runtime</span><span class="java_plain"></span></code> configuration 
              <ul> 
                <li>e.g. <code><span class="java_plain">testRuntime</span></code></li> 
              </ul></li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>“main” Source Set</h2> 
          <p>Derived names for the “main” source set are different.</p> 
          <ul> 
            <li><strong><code><span class="java_plain">compileJava</span></code></strong> -- not <code><span class="java_plain">compileMainJava</span></code></li> 
            <li><strong><code><span class="java_plain">processResources</span></code></strong> -- not <code><span class="java_plain">processMainResources</span></code></li> 
            <li><strong><code><span class="java_plain">compile</span></code></strong> -- not <code><span class="java_plain">mainCompile</span></code></li> 
          </ul> 
          <p>A common pattern in Gradle plugins.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Source Set Output</h2> 
          <p>Source Sets have an <code><span class="java_plain">output</span></code> property, a buildable FileCollection for the built source.</p> 
          <ul> 
            <li>Class files</li> 
            <li>Processed resources</li> 
          </ul> 
          <pre class=" code"><code><span class="java_plain">task&nbsp;jar&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;from&nbsp;sourceSets</span><span class="java_separator">.</span><span class="java_plain">main</span><span class="java_separator">.</span><span class="java_plain">output</span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <p>Used extensively by the <code><span class="java_plain">java</span></code> plugin to wire tasks together.</p> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Working with Source Sets</h2> 
          <pre class=" code"><code><span class="java_plain">sourceSets&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;main&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;java</span><span class="java_separator">.</span><span class="java_plain">srcDirs&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_separator">[</span><span class="java_literal">&quot;src&quot;</span><span class="java_separator">]</span><span class="java_plain">&nbsp;</span><span class="java_comment">//overwrite&nbsp;dirs</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;resources&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;srcDirs&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_separator">[</span><span class="java_literal">&quot;src&quot;</span><span class="java_separator">]</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;integTest&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;java</span><span class="java_separator">.</span><span class="java_plain">srcDirs&nbsp;</span><span class="java_literal">&quot;src/integTest&quot;</span><span class="java_plain">&nbsp;</span><span class="java_comment">//add&nbsp;dirs</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;output</span><span class="java_separator">.</span><span class="java_plain">classesDir&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;file</span><span class="java_separator">(</span><span class="java_literal">&quot;$buildDir/integ-classes&quot;</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_comment">//FileCollections&nbsp;can&nbsp;be&nbsp;added&nbsp;together</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;compileClasspath&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;sourceSets</span><span class="java_separator">.</span><span class="java_plain">main</span><span class="java_separator">.</span><span class="java_plain">output</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">+</span><span class="java_plain">&nbsp;configurations</span><span class="java_separator">.</span><span class="java_plain">integTestCompile</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;runtimeClasspath&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;compileClasspath&nbsp;</span><span class="java_operator">+</span><span class="java_plain">&nbsp;output</span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Querying Source Sets</h2> 
          <pre class=" code"><code><span class="java_comment">//&nbsp;They&nbsp;all&nbsp;return&nbsp;FileTree</span>
<span class="java_plain">sourceSets</span><span class="java_separator">.</span><span class="java_plain">main</span><span class="java_separator">.</span><span class="java_plain">allJava</span>
<span class="java_plain">sourceSets</span><span class="java_separator">.</span><span class="java_plain">main</span><span class="java_separator">.</span><span class="java_plain">resources</span>
<span class="java_plain">sourceSets</span><span class="java_separator">.</span><span class="java_plain">main</span><span class="java_separator">.</span><span class="java_plain">allSource</span><span class="java_separator">.</span><span class="java_plain">matching&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;include&nbsp;</span><span class="java_separator">...</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_comment">//&nbsp;Returns&nbsp;a&nbsp;buildable&nbsp;FileCollection</span>
<span class="java_plain">sourceSets</span><span class="java_separator">.</span><span class="java_plain">main</span><span class="java_separator">.</span><span class="java_plain">output</span></code></pre> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Clean Task</h2> 
          <ul> 
            <li>By default clean deletes the buildDir</li> 
            <li>You can specify additional files to delete</li> 
            <li>name: 'clean', type: Delete</li> 
          </ul> 
          <pre class=" code"><code><span class="java_plain">clean&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;delete&nbsp;</span><span class="java_literal">&quot;fooDir&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;bar.txt&quot;</span><span class="java_separator">,</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;fileTree</span><span class="java_separator">(</span><span class="java_literal">&quot;texts&quot;</span><span class="java_separator">).</span><span class="java_plain">matching&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;</span><span class="java_separator">...</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Javadoc Task</h2> 
          <ul> 
            <li>Provides all the options of the Javadoc command</li> 
            <li>name: 'javadoc', type: Javadoc</li> 
            <li>input: sourceSets.main.java, sourceSets.main.compileClasspath</li> 
          </ul> 
          <pre class=" code"><code><span class="java_plain">javadoc&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;maxMemory&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;512M&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;include&nbsp;</span><span class="java_literal">&quot;org/gradle/api/**&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;title&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;Gradle&nbsp;API&nbsp;$version&quot;</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Resources Tasks</h2> 
          <ul> 
            <li>Usually configured via the source set</li> 
            <li>Can use the powerful Copy API</li> 
            <li>name: processResources, processTestResources</li> 
            <li>type: Copy</li> 
            <li>input: sourceSets.main(test).resources </li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Compile Tasks</h2> 
          <ul> 
            <li>Usually configured via the source set</li> 
            <li>Provides all the options of the Ant javac task</li> 
            <li>name: compile, testCompile, type: JavaCompile</li> 
            <li>input: sourceSets.main(test).java , sourceSets.main(test).compileClasspath</li> 
          </ul> 
          <pre class=" code"><code><span class="java_plain">compileJava&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;options</span><span class="java_separator">.</span><span class="java_plain">fork&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">true</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;options</span><span class="java_separator">.</span><span class="java_plain">forkOptions</span><span class="java_separator">.</span><span class="java_plain">with&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;memoryMaximumSize&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;512M&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Classes Tasks</h2> 
          <ul> 
            <li>Aggregates compile related tasks</li> 
            <li>name: classes, testClasses, type: DefaultTask</li> 
            <li>dependsOn: compile|testCompile, processResources|processTestResources</li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Jar Task</h2> 
          <ul> 
            <li>Content of the Jar: production classes</li> 
            <li>name: 'jar', type: Jar</li> 
            <li>input: sourceSets.main.output </li> 
          </ul> 
          <pre class=" code"><code><span class="java_plain">jar&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;</span><span class="java_comment">//you&nbsp;can&nbsp;add&nbsp;more&nbsp;content:</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;from&nbsp;sourceSets</span><span class="java_separator">.</span><span class="java_plain">main</span><span class="java_separator">.</span><span class="java_plain">allJava</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;from&nbsp;zipTree</span><span class="java_separator">(</span><span class="java_literal">&quot;lib/someJar.jar&quot;</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Test Task</h2> 
          <ul> 
            <li>Support for JUnit and TestNG</li> 
            <li>Parallel testing</li> 
            <li>Custom fork frequency</li> 
            <li>Test listeners</li> 
            <li>Tests auto-detected in sourceSets.test.output</li> 
            <li>name: 'test', type: Test</li> 
            <li>input: sourceSets.test.output, sourceSets.test.runtimeClasspath</li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Test Task Example</h2> 
          <pre class=" code"><code><span class="java_plain">test&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;jvmArgs&nbsp;</span><span class="java_literal">&quot;-Xmx512M&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;scanForTestClasses&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">false</span><span class="java_plain">&nbsp;</span><span class="java_comment">//disables&nbsp;auto-detection</span>
<span class="java_plain">&nbsp;&nbsp;include&nbsp;</span><span class="java_literal">&quot;**/tests/special/**/*Test.class&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;exclude&nbsp;</span><span class="java_literal">&quot;**/Old*Test.class&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;forkEvery&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">30</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;maxParallelForks&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;guessMaxForks</span><span class="java_separator">()</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_keyword">def</span><span class="java_plain">&nbsp;guessMaxForks</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_type">int</span><span class="java_plain">&nbsp;processors&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">Runtime</span><span class="java_separator">.</span><span class="java_plain">runtime</span><span class="java_separator">.</span><span class="java_plain">availableProcessors</span><span class="java_separator">()</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_type">Math</span><span class="java_separator">.</span><span class="java_plain">max</span><span class="java_separator">(</span><span class="java_literal">2</span><span class="java_separator">,</span><span class="java_plain">&nbsp;processors</span><span class="java_separator">.</span><span class="java_plain">intdiv</span><span class="java_separator">(</span><span class="java_literal">2</span><span class="java_separator">))</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Test Task Listeners</h2> 
          <pre class=" code"><code><span class="java_plain">test&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;beforeTest&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;desc&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_comment">//&nbsp;do&nbsp;something</span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;afterTest&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;desc</span><span class="java_separator">,</span><span class="java_plain">&nbsp;result&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_comment">//&nbsp;do&nbsp;something</span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;afterSuite&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;desc</span><span class="java_separator">,</span><span class="java_plain">&nbsp;result&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_comment">//&nbsp;do&nbsp;something</span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Lab</h1> 
            <p style="font-weight: bold;">15-testing</p> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Build Lifecycle</h1> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Lifecycle Tasks</h2> 
          <ul> 
            <li>Most important tasks to build users</li> 
            <li>Concept and function, not a specific task <em>type</em></li> 
          </ul> 
          <p>Standard Java lifecycle tasks:</p> 
          <ul> 
            <li><strong>clean</strong></li> 
            <li><strong>classes</strong> - compile main source and resources</li> 
            <li><strong>test</strong> - unit tests</li> 
            <li><strong>assemble</strong> - make all “outputs”</li> 
            <li><strong>check</strong> - run <em>all</em> checks</li> 
            <li><strong>build</strong> - assemble &amp; check</li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Lifecycle Tasks</h2> 
          <p>Lifecycle tasks often have no actions, only dependencies…</p> 
          <pre class=" code"><code><span class="java_plain">task&nbsp;check&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;dependsOn&nbsp;test</span><span class="java_separator">,</span><span class="java_plain">&nbsp;codeQuality</span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <p>The standard lifecycle can be easily extended just by adding new tasks and dependencies.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Lifecycle Tasks &amp; Plugins</h2> 
          <p>Plugins can integrate by adding dependencies to lifecycle tasks…</p> 
          <pre class=" code"><code><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">IntegTestPlugin</span><span class="java_plain">&nbsp;</span><span class="java_keyword">implements</span><span class="java_plain">&nbsp;</span><span class="java_type">Plugin</span><span class="java_operator">&lt;</span><span class="java_type">Project</span><span class="java_operator">&gt;</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;apply</span><span class="java_separator">(</span><span class="java_type">Project</span><span class="java_plain">&nbsp;project</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;project</span><span class="java_separator">.</span><span class="java_plain">apply&nbsp;plugin</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;java&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_comment">//&nbsp;create&nbsp;integ&nbsp;test&nbsp;task</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;project</span><span class="java_separator">.</span><span class="java_plain">check</span><span class="java_separator">.</span><span class="java_plain">dependsOn&nbsp;integTest</span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <p>Convention plugins should always consider the larger build lifecycle.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Multi-Project Builds</h1> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Multi-Project Builds</h2> 
          <ul> 
            <li>Flexible directory layout</li> 
            <li>Configuration injection</li> 
            <li>Project dependencies</li> 
            <li>Partial builds</li> 
            <li>Customize build file names</li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Configuration Injection</h2> 
          <pre class=" code"><code><span class="java_plain">subprojects&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;apply&nbsp;plugin</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;java&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;dependencies&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;testCompile&nbsp;</span><span class="java_literal">&quot;junit:junit:4.7&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;test&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;jvmArgs&nbsp;</span><span class="java_literal">&quot;-Xmx512M&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <p><strong>Filtered configuration</strong> 
            <!-- --></p> 
          <pre class=" code"><code><span class="java_plain">configure</span><span class="java_separator">(</span><span class="java_plain">nonWebProjects</span><span class="java_separator">())</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;jar</span><span class="java_separator">.</span><span class="java_plain">manifest</span><span class="java_separator">.</span><span class="java_plain">attributes&nbsp;</span><span class="java_type">Implementor</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;Gradle&nbsp;Inc.&quot;</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_keyword">def</span><span class="java_plain">&nbsp;nonWebProjects</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;subprojects</span><span class="java_separator">.</span><span class="java_plain">findAll&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;</span><span class="java_operator">!</span><span class="java_plain">it</span><span class="java_separator">.</span><span class="java_plain">name</span><span class="java_separator">.</span><span class="java_plain">startsWith</span><span class="java_separator">(</span><span class="java_literal">&quot;web&quot;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Task/Project Paths</h2> 
          <ul> 
            <li>For projects and tasks there is a fully qualified path notation: 
              <ul> 
                <li>: (root project)</li> 
                <li>:clean (the clean task of the root project)</li> 
                <li>:foo (the foo project)</li> 
                <li>:foo:clean (the clean task of foo)</li> 
              </ul></li> 
          </ul> 
          <pre class=" code"><code><span class="java_plain">$&nbsp;gradle&nbsp;</span><span class="java_operator">:</span><span class="java_plain">foo</span><span class="java_operator">:</span><span class="java_plain">classes</span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Configuring a Multi-Project Build</h2> 
          <ul> 
            <li>settings.gradle (location defines the root)</li> 
            <li>Most aspects of the multi-project build are customizable</li> 
          </ul> 
          <pre class=" code"><code><span class="java_plain">include&nbsp;</span><span class="java_literal">&quot;foo&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;bar&quot;</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_comment">//default:&nbsp;root&nbsp;dir&nbsp;name</span>
<span class="java_plain">rootProject</span><span class="java_separator">.</span><span class="java_plain">name&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;main&quot;</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_comment">//default:&nbsp;'api'&nbsp;dir</span>
<span class="java_plain">project</span><span class="java_separator">(</span><span class="java_literal">&quot;:foo&quot;</span><span class="java_separator">).</span><span class="java_plain">projectDir&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;file</span><span class="java_separator">(</span><span class="java_literal">&quot;/myLocation&quot;</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_comment">//default:&nbsp;'build.gradle'</span>
<span class="java_plain">project</span><span class="java_separator">(</span><span class="java_literal">&quot;:bar&quot;</span><span class="java_separator">).</span><span class="java_plain">buildFileName&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;bar.gradle&quot;</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Lab</h1> 
            <p style="font-weight: bold;">16-multi-project-builds</p> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Organizing Build Logic</h1> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Best Practices</h2> 
          <ul> 
            <li>Use script plugins to decompose build scripts 
              <ul> 
                <li>Enhances comprehension and allows for reuse</li> 
                <li>Modularize according to domain (integ tests) or role (user/build admin)</li> 
              </ul></li> 
            <li>Encapsulate the imperative into plugins and custom tasks</li> 
            <li>Enhance the API of the Gradle domain objects: 
              <ul> 
                <li>Encapsulate custom behavior</li> 
                <li>Integrate them with your own custom elements 
                  <ul> 
                    <li><code><span class="java_plain">compile</span><span class="java_separator">(</span><span class="java_literal">'junit:junit:4.10'</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;maven</span><span class="java_separator">.</span><span class="java_plain">optional&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">true</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span></code></li> 
                  </ul></li> 
              </ul></li> 
            <li>Add your own declarative elements</li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Organizing Build Logic</h2> 
          <ul> 
            <li>Your build logic can live in different locations: 
              <ul> 
                <li>In the build script</li> 
                <li>In another local/remote script (script plugin)</li> 
                <li>In the 'buildSrc' project</li> 
                <li>In some Jar</li> 
                <li>init.gradle</li> 
              </ul></li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Build Script</h2> 
          <ul> 
            <li>Build logic in the build script is fine</li> 
            <li>Always try to separate the imperative from the declarative</li> 
          </ul> 
          <pre class=" code"><code><span class="java_comment">//declarative:</span>
<span class="java_plain">task&nbsp;greeting</span><span class="java_separator">(</span><span class="java_plain">type</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_type">HelloTask</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;greeting&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;greetings&nbsp;from&nbsp;HelloTask&quot;</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_comment">//implementation&nbsp;details:</span>
<span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">HelloTask</span><span class="java_plain">&nbsp;</span><span class="java_keyword">extends</span><span class="java_plain">&nbsp;</span><span class="java_type">DefaultTask</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;greeting&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;hello&nbsp;from&nbsp;HelloTask&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;@</span><span class="java_type">TaskAction</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;printGreeting</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;greeting</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_comment">//&nbsp;do&nbsp;something&nbsp;complicated</span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Script Plugin</h2> 
          <ul> 
            <li>build.gradle</li> 
            <li>gradle/ 
              <ul> 
                <li>distributions.gradle</li> 
                <li>integTest.gradle</li> 
              </ul></li> 
          </ul> 
          <pre class=" code"><code><span class="java_comment">//root&nbsp;build.gradle:</span>
<span class="java_plain">apply&nbsp;from</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;gradle/integTest.gradle&quot;</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>buildSrc</h2> 
          <ul> 
            <li>Drop any Java/Groovy class into: 
              <ul> 
                <li> 
                  <rootproject>
                     /buildSrc/src/main/java(groovy) 
                  </rootproject></li> 
              </ul></li> 
            <li>Gradle will automatically compile and test with any invocation</li> 
            <li>Part of the build script class path</li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Jar</h2> 
          <ul> 
            <li>Jars can be added to the build script class path 
              <ul> 
                <li>Your own or third-party plugins</li> 
                <li>Any other libraries (e.g. commons-math)</li> 
              </ul></li> 
          </ul> 
          <pre class=" code"><code><span class="java_plain">buildscript&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;repositories&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;mavenCentral</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;dependencies&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;classpath&nbsp;</span><span class="java_literal">&quot;com.google.appengine:gradle-appengine-plugin:1.8.6&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;classpath&nbsp;files</span><span class="java_separator">(</span><span class="java_literal">&quot;lib/commons-math.jar&quot;</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Lab</h1> 
            <p style="font-weight: bold;">17-organizing-build-logic</p> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Hooking into Gradle</h1> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Init Scripts</h2> 
          <ul> 
            <li><p>Init scripts are run before the build starts:</p> 
              <ul> 
                <li>Configure build script classpath (e.g. pull in your corporate plugins).</li> 
                <li>Configure common corporate repositories</li> 
                <li>Set up properties based on the current environment.</li> 
                <li>Define machine specific details, such as where JDKs are installed.&nbsp;</li> 
                <li>Register build listeners.</li> 
                <li>...</li> 
              </ul></li> 
            <li><p>Also useful to enhance builds you don't want to touch.</p></li> 
            <li>GRADLE_USER_HOME/init.gradle is automatically applied as an init script.</li> 
            <li>You can specify any init script via the -I command line option.</li> 
          </ul> 
          <pre class=" code"><code><span class="java_plain">$&nbsp;gradle&nbsp;assemble&nbsp;</span><span class="java_operator">-</span><span class="java_plain">I&nbsp;ci</span><span class="java_operator">-</span><span class="java_plain">init</span><span class="java_separator">.</span><span class="java_plain">gradle</span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Sample Init Script</h2> 
          <pre class=" code"><code><span class="java_plain">initscript&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;repositories&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;mavenCentral</span><span class="java_separator">()</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;dependencies&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;classpath&nbsp;</span><span class="java_literal">&quot;org.apache.commons:commons-math:2.0&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">gradle</span><span class="java_separator">.</span><span class="java_plain">startParameter&nbsp;</span><span class="java_comment">//&nbsp;do&nbsp;something&nbsp;with&nbsp;them</span>
<span class="java_plain">gradle</span><span class="java_separator">.</span><span class="java_plain">addBuildListener&nbsp;</span><span class="java_separator">...</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Hooking into the Lifecycle</h2> 
          <pre class=" code"><code><span class="java_plain">gradle</span><span class="java_separator">.</span><span class="java_plain">taskGraph</span><span class="java_separator">.</span><span class="java_plain">whenReady&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;taskGraph&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain">&nbsp;</span><span class="java_separator">...</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">gradle</span><span class="java_separator">.</span><span class="java_plain">taskGraph</span><span class="java_separator">.</span><span class="java_plain">beforeTask&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;task&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain">&nbsp;</span><span class="java_separator">...</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">gradle</span><span class="java_separator">.</span><span class="java_plain">taskGraph</span><span class="java_separator">.</span><span class="java_plain">afterTask&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;task&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain">&nbsp;</span><span class="java_separator">...</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">gradle</span><span class="java_separator">.</span><span class="java_plain">beforeProject&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;project&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain">&nbsp;</span><span class="java_separator">...</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">gradle</span><span class="java_separator">.</span><span class="java_plain">afterProject&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;project&nbsp;</span><span class="java_operator">-&gt;</span><span class="java_plain">&nbsp;</span><span class="java_separator">...</span><span class="java_plain">&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">gradle</span><span class="java_separator">.</span><span class="java_plain">addBuildListener</span><span class="java_separator">(</span><span class="java_type">BuildListener</span><span class="java_plain">&nbsp;listener</span><span class="java_separator">)</span><span class="java_plain"></span>
<span class="java_plain"></span>
<span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">interface</span><span class="java_plain">&nbsp;</span><span class="java_type">BuildListener</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;buildStarted</span><span class="java_separator">(</span><span class="java_type">Gradle</span><span class="java_plain">&nbsp;gradle</span><span class="java_separator">);</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;settingsEvaluated</span><span class="java_separator">(</span><span class="java_type">Settings</span><span class="java_plain">&nbsp;settings</span><span class="java_separator">);</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;projectsLoaded</span><span class="java_separator">(</span><span class="java_type">Gradle</span><span class="java_plain">&nbsp;gradle</span><span class="java_separator">);</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;projectsEvaluated</span><span class="java_separator">(</span><span class="java_type">Gradle</span><span class="java_plain">&nbsp;gradle</span><span class="java_separator">);</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;buildFinished</span><span class="java_separator">(</span><span class="java_type">BuildResult</span><span class="java_plain">&nbsp;result</span><span class="java_separator">);</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <!-- --> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>BuildAdapter</h2> 
          <p>The BuildAdapter class provides a stubbed implementation of BuildListener.</p> 
          <pre class=" code"><code><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">MyListener</span><span class="java_plain">&nbsp;</span><span class="java_keyword">extends</span><span class="java_plain">&nbsp;</span><span class="java_type">BuildAdapter</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;settingsEvaluated</span><span class="java_separator">(</span><span class="java_type">Settings</span><span class="java_plain">&nbsp;settings</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_comment">//&nbsp;do&nbsp;something&nbsp;interesting&nbsp;with&nbsp;the&nbsp;Settings&nbsp;object</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>Lab</h1> 
            <p style="font-weight: bold;">18-hooking-into-gradle</p> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide title-slide">
      <div class="inner">
        <div class="inner"> 
          <div class="title-slide-content"> 
            <h1>The Gradle Way</h1> 
          </div> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Declarativeness</h2> 
          <ul> 
            <li>Build scripts specify <strong>what</strong> should happen.</li> 
            <li>Gradle &amp; plugins figure out the <strong>how</strong>.</li> 
          </ul> 
          <p>Declarative where possible, imperative where necessary.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Flexibility</h2> 
          <p>Gradle is not inherently prescriptive.</p> 
          <p>Flexibility is needed to meet the challenges of modern software delivery.</p> 
          <p>Not all projects are the same, and most real world projects are significantly non trivial.</p> 
          <p>Gradle provides mechanisms for managing complexity.</p> 
          <p>Gradle provides mechanisms for domain specific conventions and abstractions.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Build Language</h2> 
          <p>Gradle is a build language engine, supporting domain modelling.</p> 
          <ul> 
            <li>Projects</li> 
            <li>Custom Tasks</li> 
            <li>Plugins</li> 
            <li>Dependencies</li> 
            <li>Configurations</li> 
            <li>Source Sets</li> 
            <li>Archives</li> 
            <li>Artifacts</li> 
          </ul> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>New Domains</h2> 
          <pre class=" code"><code><span class="java_plain">android&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;defaultConfig&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minSdkVersion&nbsp;</span><span class="java_literal">8</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;versionCode&nbsp;</span><span class="java_literal">10</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;productFlavors&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flavor1&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;packageName&nbsp;</span><span class="java_literal">&quot;com.example.flavor1&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;versionCode&nbsp;</span><span class="java_literal">20</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flavor2&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;packageName&nbsp;</span><span class="java_literal">&quot;com.example.flavor2&quot;</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minSdkVersion&nbsp;</span><span class="java_literal">14</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre> 
          <p>The build language can be easily extended to describe any domain.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Ambitious Automation</h2> 
          <p>Gradle supports ambitious, high quality automation.</p> 
          <p>High quality automation improves developer productivity and software quality.</p> 
          <p>Improved software quality makes developers, users, <em>everyone</em> happier.</p> 
        </div>
      </div>  
    </section> 
    <section class="slide">
      <div class="inner">
        <div class="inner"> 
          <h2>Thank You!</h2> 
          <ul> 
            <li>Thank you for attending!</li> 
            <li>Questions?</li> 
            <li>Feedback?</li> 
            <li><a href="https://gradle.org">Gradle Home</a></li> 
            <li><a href="https://gradle.org/services/">Get more help!</a></li> 
          </ul> 
        </div>
      </div>  
    </section>   
    <div class="deck-notes"> 
      <div class="deck-notes-header">
        Slide Notes…
      </div> 
      <div class="deck-notes-container"></div> 
    </div> 
    <div class="slide-number"></div> 
  </body>
</html>